From 92d7d3a5341e730078e4045d4247caa45e099441 Mon Sep 17 00:00:00 2001
From: ctsk <9384305+ctsk@users.noreply.github.com>
Date: Mon, 7 Aug 2023 15:58:21 +0200
Subject: [PATCH] Patch

---
 misc/fastcgi-cgi.pl                  | 2 +-
 misc/regen.mk                        | 4 +---
 share/h2o/annotate-backtrace-symbols | 4 +---
 share/h2o/fastcgi-cgi                | 5 ++---
 share/h2o/fetch-ocsp-response        | 4 +---
 share/h2o/kill-on-close              | 4 +---
 share/h2o/setuidgid                  | 4 +---
 share/h2o/start_server               | 5 ++---
 8 files changed, 10 insertions(+), 22 deletions(-)

diff --git a/misc/fastcgi-cgi.pl b/misc/fastcgi-cgi.pl
index 2ca2fdcba..0fc31e03a 100755
--- a/misc/fastcgi-cgi.pl
+++ b/misc/fastcgi-cgi.pl
@@ -1,4 +1,4 @@
-#! /usr/bin/perl
+#! /bin/perl
 
 use strict;
 use warnings;
diff --git a/misc/regen.mk b/misc/regen.mk
index 1ff9c841a..43fae4ae4 100755
--- a/misc/regen.mk
+++ b/misc/regen.mk
@@ -1,7 +1,5 @@
 define FATPACK_SHEBANG
-#! /bin/sh
-exec $${H2O_PERL:-perl} -x $$0 "$$@"
-#! perl
+#! /bin/perl
 endef
 export FATPACK_SHEBANG
 
diff --git a/share/h2o/annotate-backtrace-symbols b/share/h2o/annotate-backtrace-symbols
index 04598cc9e..3f2f78c56 100755
--- a/share/h2o/annotate-backtrace-symbols
+++ b/share/h2o/annotate-backtrace-symbols
@@ -1,6 +1,4 @@
-#! /bin/sh
-exec ${H2O_PERL:-perl} -x $0 "$@"
-#! perl
+#! /bin/perl
 
 use strict;
 use warnings;
diff --git a/share/h2o/fastcgi-cgi b/share/h2o/fastcgi-cgi
index 9e6abdde9..f61c7cedc 100755
--- a/share/h2o/fastcgi-cgi
+++ b/share/h2o/fastcgi-cgi
@@ -1,6 +1,5 @@
-#! /bin/sh
-exec ${H2O_PERL:-perl} -x $0 "$@"
-#! perl
+#! /bin/perl
+#
 # This chunk of stuff was generated by App::FatPacker. To find the original
 # file's code, look for the end of this BEGIN block or the string 'FATPACK'
 BEGIN {
diff --git a/share/h2o/fetch-ocsp-response b/share/h2o/fetch-ocsp-response
index 1bfc9ebc1..85a778e55 100755
--- a/share/h2o/fetch-ocsp-response
+++ b/share/h2o/fetch-ocsp-response
@@ -1,6 +1,4 @@
-#! /bin/sh
-exec ${H2O_PERL:-perl} -x $0 "$@"
-#! perl
+#! /bin/perl
 
 # Copyright (c) 2015 DeNA Co., Ltd., Kazuho Oku, Tatsuhiro Tsujikawa
 #
diff --git a/share/h2o/kill-on-close b/share/h2o/kill-on-close
index 4890abdf9..e43e9da67 100755
--- a/share/h2o/kill-on-close
+++ b/share/h2o/kill-on-close
@@ -1,6 +1,4 @@
-#! /bin/sh
-exec ${H2O_PERL:-perl} -x $0 "$@"
-#! perl
+#! /bin/perl
 
 use strict;
 use warnings;
diff --git a/share/h2o/setuidgid b/share/h2o/setuidgid
index c8e9a30ad..fb2a23786 100755
--- a/share/h2o/setuidgid
+++ b/share/h2o/setuidgid
@@ -1,6 +1,4 @@
-#! /bin/sh
-exec ${H2O_PERL:-perl} -x $0 "$@"
-#! perl
+#! /bin/perl
 
 use strict;
 use warnings;
diff --git a/share/h2o/start_server b/share/h2o/start_server
index 27d2e5664..a83593017 100755
--- a/share/h2o/start_server
+++ b/share/h2o/start_server
@@ -1,6 +1,5 @@
-#! /bin/sh
-exec ${H2O_PERL:-perl} -x $0 "$@"
-#! perl
+#! /bin/perl
+#
 # This chunk of stuff was generated by App::FatPacker. To find the original
 # file's code, look for the end of this BEGIN block or the string 'FATPACK'
 BEGIN {
-- 
2.41.0

